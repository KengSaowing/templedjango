{% extends 'base.html' %}
<link href="https://fonts.googleapis.com/css2?family=Sriracha&display=swap" rel="stylesheet">
{% block title %}
    {{title}}
{% endblock %}

{% block content %}
<form method="post" action="/multiplepoint_route">
    {% csrf_token %}  
    <input type="hidden" name="latitude" id="latitude" value="">
    <input type="hidden" name="longitude" id="longitude" value="">
    <input type="hidden" name="temple_id" value="{{temples_id}}">
    <button onclick="getLocation()" class="btn btn-success btn-lg active" role="button" aria-pressed="true">วางแผนการเดินทาง</button>
</form>
  
    <p id="latitude"></p>
    <p id="longitude"></p>
    <script>
      var lat = document.getElementById("latitude");
      var long = document.getElementById("longitude");

      function getLocation() {
          if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(showPosition);
          } else { 
              x.innerHTML = "Geolocation is not supported by this browser.";
          }
      }

      function showPosition(position) {
          lat.value = position.coords.latitude;
          long.value = position.coords.longitude;
      }
  </script>
<br></br>

<div class="mb-4"></div>
  
<div class="card-columns">
  {% for temple_obj in temples %}
  <div class="card mb-4">
    <img class="card-img-top" src="{{temple_obj.image.url}}" alt="Card image cap">
    <div class="card-body">
      <h5 class="card-title">{{temple_obj.name}}</h5>

      {% for cat in temple_obj.Category.all %}
        <span class="card-text">{{cat.name}}</span>
      {% endfor %}
      
      <a href="{% url 'templeone' temple_obj.id %}" class="btn btn-primary">เพิ่มเติม</a>
    </div>
  </div>
  {% endfor %}
</div>

<style>
  .card-columns {
    @include media-breakpoint-only(lg) {
      column-count: 4;
    }

    @include media-breakpoint-only(xl) {
      column-count: 5;
    }
  }
</style>
{% endblock %}